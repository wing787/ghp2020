<!DOCTYPE html>
<html lang="ja">
  <head>
  <meta charset="UTF-8">
  <title>聞き取り上手</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
  
  <!-- Leaflet-PlugIn -->
  <link rel="stylesheet" href="css/leaflet-search.min.css">
    <script src="js/leaflet-search.min.js"></script>
  <!-- Leaflet-PlugIn -->

<style>
  body {padding: 0; margin: 0}
  html, body, #map {height: 100%; width: 100%;}
</style>
</head>

<body>
<div id="map"></div>
<script>
var map = L.map('map');

L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
  attribution: "<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>"
}).addTo(map);

//marker_イメージ
//L.marker([35.6727333,139.7997436]).addTo(map).bindPopup("場所：数矢小学校</br>不足物資:トイレットペーパー");

//GeoJSON
$.getJSON("https://ghp-voice.s3-ap-northeast-1.amazonaws.com/sample.geojson", function (data) {
    L.geoJson(data, {
      onEachFeature: function (feature, layer) {
    var field = '場所 :   ' + feature.properties.place + '<br>' + 
                '不足物資 :   ' + feature.properties.Supplies;
    layer.bindPopup(field);
}}).addTo(map);
});
map.addControl(L.control.zoom({position: 'topright'}));

// search
// var options = {
//             geojsonServiceAddress: "sample.geojson",
//             placeholderMessage: "(例： 〇〇小学校、トイレットペーパー)",
//             notFoundMessage: "に一致する検索対象がありません。",
//             notFoundHint: "検索条件を変えて再検索してください。",
//             pointGeometryZoomLevel:   15
//         };
 
//         $("#searchContainer").GeoJsonAutocomplete(options);



// search 2
// var controlSearch = new L.Control.Search({
//     　　　　position:'topright',
//     　　　　layer: searchLayer,
//     　　　　initial: false,
//     　　　　zoom: 15,
//     　　　　marker: True
//     　　});
//      mymap.addControl( controlSearch );

map.setView([35.6599926,139.7442758], 13);
</script>
</body>
</html>
